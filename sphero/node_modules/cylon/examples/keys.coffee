Cylon = require '..'

Cylon.robot
  connection: { name: 'keyboard', adaptor: 'keyboard' }
  device: { name: 'keyboard', driver: 'keyboard' }

  work: (my) ->
    @configMode = false
    console.log "Press arrow keys or 'A'..."

    my.keyboard.on 'a', (key) ->
      if @configMode
        @configMode = false
        console.log "Config mode off"
      else
        @configMode = true
        console.log "Config mode on"

    my.keyboard.on 'up', (key) ->
      console.log "UP!"

    my.keyboard.on 'down', (key) ->
      console.log "DOWN!"

    my.keyboard.on 'left', (key) ->
      if @configMode
        console.log "CONFIG LEFT!"
      else
        console.log "LEFT!"

    my.keyboard.on 'right', (key) ->
      if @configMode
        console.log "CONFIG RIGHT!"
      else
        console.log "RIGHT!"
.start()
